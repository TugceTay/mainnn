unit Unit1;

interface

uses
  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,
  System.Math, System.Math.Vectors,
  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs, FMX.StdCtrls,
  FMX.Controls.Presentation, FMX.Controls3D, FMX.Objects3D,
  FMX.DAE.Importer,             // .dae desteði
  FMX.Viewport3D, FMX.Types3D,
  FMX.Materials, FMX.MaterialSources;  // LightMaterialSource

type
  TForm1 = class(TForm)
    Viewport3D1: TViewport3D;
    Camera1: TCamera;
    Light1: TLight;                   // standart FMX ýþýk
    LightMaterialSource1: TLightMaterialSource;
    btnLoadModel: TButton;
    OpenDAEDialog: TOpenDialog;
    procedure btnLoadModelClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form1: TForm1;

implementation

{$R *.fmx}

procedure TForm1.btnLoadModelClick(Sender: TObject);
var
  Model: TModel3D;
begin
  if not OpenDAEDialog.Execute then
    Exit;
  Model := TModel3D.Create(Viewport3D1);
  try
    if not Model.LoadFromFile(OpenDAEDialog.FileName) then
      raise Exception.Create('DAE yüklenemedi');
    Model.Parent := Viewport3D1;
   // Model.MaterialSource := LightMaterialSource1;  // artýk tanýmlý
    Model.Position.Point := Point3D(0,0,0);
    Camera1.Position.Z := -MaxValue([Model.Width,Model.Height,Model.Depth]) * 2;
    Camera1.RotationAngle.X := 20;
    Camera1.RotationCenter.Point := Point3D(0,0,0);
  except
    Model.Free;
    raise;
  end;
end;

end.

